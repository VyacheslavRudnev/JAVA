–¶–µ–π –∫–æ–¥ —î –≥–æ–ª–æ–≤–Ω–∏–º –∫–ª–∞—Å–æ–º (`Main`), —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `DbHelper` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö MySQL. –í—ñ–Ω –≤–∏–∫–æ–Ω—É—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó:  

1. **–ü—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ –±–∞–∑–∏**  
2. **–°—Ç–≤–æ—Ä—é—î —Ç–∞–±–ª–∏—Ü—é `Books`, —è–∫—â–æ –≤–æ–Ω–∞ –Ω–µ —ñ—Å–Ω—É—î**  
3. **–î–æ–¥–∞—î –¥–∞–Ω—ñ –¥–≤–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏ (–ø–æ–≥–∞–Ω–∏–º —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º)**  
4. **–í–∏–∫–æ–Ω—É—î `SELECT` –¥–ª—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Å—ñ–≤ —ñ–∑ —Ç–∞–±–ª–∏—Ü—ñ `Books`**  

---

## **–î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑–±—ñ—Ä –∫–æ–¥—É**  

### **1. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**  
```java
DbHelper helper = new DbHelper("127.0.0.1:3306", "root", "123456", "java-test");
Connection conn = helper.connect();
```
- **–°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –µ–∫–∑–µ–º–ø–ª—è—Ä `DbHelper`** –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
  - `127.0.0.1:3306` ‚Äî –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä MySQL (–ø–æ—Ä—Ç 3306).
  - `root` ‚Äî —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
  - `123456` ‚Äî –ø–∞—Ä–æ–ª—å.
  - `java-test` ‚Äî —ñ–º'—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.  
- **–í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `connect()`** –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è.

---

### **2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ `Books`**  
```java
String createTableBook = "create table if not exists Books("+
"id integer primary key auto_increment,"+
"title varchar(128) not null,"+
"author varchar(128) not null,"+
"price integer)";

if(helper.executeQuery(createTableBook)){
    System.out.println("*** Table Books was created! ***");
}
```
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `CREATE TABLE IF NOT EXISTS`, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é `Books`, —è–∫—â–æ –≤–æ–Ω–∞ —â–µ –Ω–µ —ñ—Å–Ω—É—î.
- –ö–æ–ª–æ–Ω–∫–∏:
  - `id` ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä (`PRIMARY KEY`, `AUTO_INCREMENT`).
  - `title` ‚Äî –Ω–∞–∑–≤–∞ –∫–Ω–∏–≥–∏ (`VARCHAR(128) NOT NULL`).
  - `author` ‚Äî –∞–≤—Ç–æ—Ä (`VARCHAR(128) NOT NULL`).
  - `price` ‚Äî —Ü—ñ–Ω–∞ (`INTEGER`).
- –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `executeQuery()` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ.

---

### **3. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–Ω–∏–≥ —É —Ç–∞–±–ª–∏—Ü—é (–¥–≤–∞ —Å–ø–æ—Å–æ–±–∏)**  
#### ‚ùå **–ü–æ–≥–∞–Ω–∏–π —Å–ø–æ—Å—ñ–± (SQL-—ñ–Ω'—î–∫—Ü—ñ—ó!)**
```java
String ins1 = "insert into Books (title, author, price) values('"+title1+"', '"+author1+"', "+price1+")";
helper.executeQuery(ins1);
```
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è SQL-–∑–∞–ø–∏—Ç—É —à–ª—è—Ö–æ–º –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—ó —Ä—è–¥–∫—ñ–≤ **–Ω–µ–±–µ–∑–ø–µ—á–Ω–µ!**
- **SQL-—ñ–Ω'—î–∫—Ü—ñ—ó**: —è–∫—â–æ `title1`, `author1` –º—ñ—Å—Ç—è—Ç—å `'; DROP TABLE Books; --`, —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ!
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–ø–æ—Å—ñ–± ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `PreparedStatement`**.

#### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–ø–æ—Å—ñ–± (–∑ PreparedStatement)**
```java
String ins2 = "insert into Books (title, author, price) values(?, ?, ?)";

try {
    PreparedStatement ps = conn.prepareStatement(ins2);
    ps.setString(1, title2);
    ps.setString(2, author2);
    ps.setInt(3, price2);
    ps.executeUpdate();
} catch (SQLException e) {
    throw new RuntimeException(e);
}
```
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `PreparedStatement`, —è–∫–∏–π –∑–∞–ø–æ–±—ñ–≥–∞—î SQL-—ñ–Ω'—î–∫—Ü—ñ—è–º.
- –ó–∞–ø–∏—Ç –º—ñ—Å—Ç–∏—Ç—å `?` —è–∫ –∑–∞–ø–æ–≤–Ω—é–≤–∞—á—ñ (`placeholders`), —è–∫—ñ –∑–∞–º—ñ–Ω—é—é—Ç—å—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏:
  - `ps.setString(1, title2);` ‚Äî –≤—Å—Ç–∞–≤–ª—è—î `title2` —É –ø–µ—Ä—à–µ `?`
  - `ps.setString(2, author2);` ‚Äî –≤—Å—Ç–∞–≤–ª—è—î `author2`
  - `ps.setInt(3, price2);` ‚Äî –≤—Å—Ç–∞–≤–ª—è—î `price2`
- `executeUpdate()` –≤–∏–∫–æ–Ω—É—î `INSERT`.

---

### **4. –í–∏–∫–æ–Ω–∞–Ω–Ω—è `SELECT` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫–Ω–∏–≥**
```java
String sel1 = "select * from books";
ResultSet set = helper.executeSelect(sel1);

try {
    while(set.next()) {
        System.out.println(set.getInt(1) +" : "+ set.getString(2)+" : "+set.getString(3)+" : "+set.getInt(4));
    }
} catch (SQLException e) {
    throw new RuntimeException(e);
}
```
- –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞–ø–∏—Ç `"SELECT * FROM books"`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –∑–∞–ø–∏—Å–∏.
- **–¶–∏–∫–ª `while(set.next())`** –ø–µ—Ä–µ–±–∏—Ä–∞—î –≤—Å—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:
  - `set.getInt(1)` ‚Äî `id`
  - `set.getString(2)` ‚Äî `title`
  - `set.getString(3)` ‚Äî `author`
  - `set.getInt(4)` ‚Äî `price`
- –í–∏–≤—ñ–¥ —É –∫–æ–Ω—Å–æ–ª—å –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:
  ```
  1 : Goblin Reservation : Clifford Simak : 220
  2 : I, robot : Isaac Asimov : 210
  ```

---

## **–ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–æ–¥—É**
‚úÖ **–©–æ –¥–æ–±—Ä–µ**:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `DbHelper`, —â–æ –ø–æ–ª–µ–≥—à—É—î —Ä–æ–±–æ—Ç—É –∑ –ë–î.
- –ó–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ `PreparedStatement` –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ `INSERT`.

‚ùå **–©–æ –º–æ–∂–Ω–∞ –ø–æ–∫—Ä–∞—â–∏—Ç–∏**:
1. **–ó–∞–∫—Ä–∏—Ç—Ç—è —Ä–µ—Å—É—Ä—Å—ñ–≤ (`Connection`, `ResultSet`, `PreparedStatement`)**
   - –ó–∞—Ä–∞–∑ –≤–æ–Ω–∏ –Ω–µ –∑–∞–∫—Ä–∏–≤–∞—é—Ç—å—Å—è, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏—Ç–æ–∫—ñ–≤ –ø–∞–º‚Äô—è—Ç—ñ.
   - –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `try-with-resources`:
     ```java
     try (PreparedStatement ps = conn.prepareStatement(ins2)) {
         ps.setString(1, title2);
         ps.setString(2, author2);
         ps.setInt(3, price2);
         ps.executeUpdate();
     } catch (SQLException e) {
         throw new RuntimeException(e);
     }
     ```

2. **–ó–∞–∫—Ä–∏—Ç—Ç—è `ResultSet`**
   - –ü—ñ—Å–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `ResultSet` –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–∫—Ä–∏–≤–∞—Ç–∏:
     ```java
     try (ResultSet set = helper.executeSelect(sel1)) {
         while(set.next()) {
             System.out.println(set.getInt(1) +" : "+ set.getString(2)+" : "+set.getString(3)+" : "+set.getInt(4));
         }
     } catch (SQLException e) {
         throw new RuntimeException(e);
     }
     ```

3. **–ó–∞–∫—Ä–∏—Ç—Ç—è `Connection` –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏**
   ```java
   helper.closeConnection();
   ```

4. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `LOGGER` –∑–∞–º—ñ—Å—Ç—å `System.out.println()`**
   - –£ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—î–∫—Ç–∞—Ö –ª–æ–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `System.out.println()` –Ω–µ–±–∞–∂–∞–Ω–µ.
   - –ö—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `java.util.logging.Logger` –∞–±–æ `SLF4J` (`Logback`).

---

## **–í–∏—Å–Ω–æ–≤–æ–∫**
- –ö–æ–¥ **—Å—Ç–≤–æ—Ä—é—î —Ç–∞–±–ª–∏—Ü—é, –¥–æ–¥–∞—î –∑–∞–ø–∏—Å–∏ —Ç–∞ —á–∏—Ç–∞—î –¥–∞–Ω—ñ**.
- **–ü—Ä–æ–±–ª–µ–º–∏**: –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ SQL-—ñ–Ω'—î–∫—Ü—ñ—ó (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ `PreparedStatement`), **–Ω–µ –∑–∞–∫—Ä–∏–≤–∞—é—Ç—å—Å—è —Ä–µ—Å—É—Ä—Å–∏**.
- **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è**: `try-with-resources`, `closeConnection()`, `LOGGER` –∑–∞–º—ñ—Å—Ç—å `System.out.println()`.

---

–Ø–∫—â–æ –º–∞—î—à –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ —Ö–æ—á–µ—à –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –∫–æ–¥ –¥–∞–ª—ñ, –∑–∞–ø–∏—Ç—É–π! üòä